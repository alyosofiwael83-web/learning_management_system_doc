<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7.1 النتائج النهائية - نظام إدارة التعلم</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- مكتبة الرسوم البيانية Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root { --primary: #2c3e50; --secondary: #3498db; --accent: #e74c3c; --success: #2ecc71; --warning: #f39c12; --light: #ecf0f1; --sidebar-width: 280px; --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275  ); --shadow: 0 10px 30px rgba(0, 0, 0, 0.1); --radius: 12px; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: #f9f9f9; color: #333; display: flex; min-height: 100vh; direction: rtl; }
        .sidebar { width: var(--sidebar-width); background: linear-gradient(165deg, var(--primary) 0%, #1a2530 100%); color: white; height: 100vh; overflow-y: auto; box-shadow: var(--shadow); border-left: 1px solid rgba(255, 255, 255, 0.1); flex-shrink: 0; }
        .main-content { flex-grow: 1; overflow-y: auto; height: 100vh; background-color: white; }
        .content-page { max-width: 1100px; margin: 0 auto; padding: 60px 40px; color: #333; }
        .content-page h1 { color: var(--primary); font-size: 2.5rem; margin-bottom: 30px; text-align: center; position: relative; padding-bottom: 15px; display: flex; align-items: center; justify-content: center; gap: 15px; }
        .content-page h1::after { content: ""; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 100px; height: 4px; background: var(--secondary); border-radius: 2px; }
        .content-page > p { margin-bottom: 40px; font-size: 1.1rem; line-height: 1.8; text-align: justify; }
        .content-page h2 { color: var(--primary); margin: 50px 0 25px; font-size: 1.8rem; border-bottom: 2px solid var(--light); padding-bottom: 10px; display: flex; align-items: center; gap: 15px; }

        /* --- تصميم بطاقات الأهداف المحققة --- */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        .result-card {
            background: #fff;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        .result-card:hover { transform: translateY(-10px); }
        .result-card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: var(--primary);
            color: white;
        }
        .result-card-header i { font-size: 1.5rem; color: var(--secondary); }
        .result-card-header h3 { margin: 0; font-size: 1.3rem; }
        .result-card-body { padding: 25px; }
        .result-card-body .status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-weight: 600;
        }
        .result-card-body .status.before { color: var(--accent); }
        .result-card-body .status.after { color: var(--success); }
        .result-card-body p { margin: 0; line-height: 1.6; color: #555; }

        /* --- تصميم بطاقات النتائج الكمية --- */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
        }
        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 25px;
            border-radius: var(--radius);
            text-align: center;
        }
        .stat-card i { font-size: 2.5rem; opacity: 0.8; }
        .stat-card .stat-value { font-size: 2.2rem; font-weight: bold; margin: 10px 0; }
        .stat-card .stat-label { font-size: 1rem; }

        /* --- تصميم حاوية الرسم البياني --- */
        .chart-container {
            background: #fff;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }

        .pagination { display: flex; justify-content: space-between; margin-top: 50px; padding-top: 30px; border-top: 1px solid #eee; }
        .btn { display: inline-flex; align-items: center; gap: 10px; padding: 12px 25px; border-radius: 50px; text-decoration: none; font-weight: 600; transition: var(--transition); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .btn-prev { background: var(--primary); color: white; }
        .btn-next { background: var(--secondary); color: white; }
    </style>
</head>
<body>
    <div id="sidebar-container"></div>
    <main class="main-content">
        <section class="content-page">
            <h1><i class="fas fa-trophy"></i> 7.1 النتائج النهائية (Final Results)</h1>
            <p>بعد إتمام مراحل التحليل، التصميم، التنفيذ، والاختبار، توصل المشروع إلى مجموعة من النتائج الملموسة التي تثبت نجاحه في تحقيق الأهداف المرجوة. لم يعد النظام مجرد فكرة نظرية، بل أصبح حلاً عملياً يعالج المشاكل التي تم تحديدها في بداية الرحلة.</p>

            <h2><i class="fas fa-check-double"></i> 1. تحقيق أهداف المشروع</h2>
            <div class="results-grid">
                <div class="result-card">
                    <div class="result-card-header"><i class="fas fa-folder-open"></i><h3>تسهيل الوصول للمحتوى</h3></div>
                    <div class="result-card-body">
                        <div class="status before"><i class="fas fa-times-circle"></i><p><strong>قبل:</strong> مواد دراسية متفرقة عبر قنوات متعددة.</p></div>
                        <div class="status after"><i class="fas fa-check-circle"></i><p><strong>بعد:</strong> مستودع رقمي مركزي ومنظم لكل المواد والمحاضرات.</p></div>
                    </div>
                </div>
                <div class="result-card">
                    <div class="result-card-header"><i class="fas fa-tasks"></i><h3>أتمتة دورة التقييم</h3></div>
                    <div class="result-card-body">
                        <div class="status before"><i class="fas fa-times-circle"></i><p><strong>قبل:</strong> دورة تقييم بطيئة وغير فعالة.</p></div>
                        <div class="status after"><i class="fas fa-check-circle"></i><p><strong>بعد:</strong> نظام فوري لتسليم وتقييم الواجبات مع إشعارات آلية.</p></div>
                    </div>
                </div>
                <div class="result-card">
                    <div class="result-card-header"><i class="fas fa-comments"></i><h3>تعزيز التواصل</h3></div>
                    <div class="result-card-body">
                        <div class="status before"><i class="fas fa-times-circle"></i><p><strong>قبل:</strong> فجوة تواصلية بين الطلاب والدكاترة.</p></div>
                        <div class="status after"><i class="fas fa-check-circle"></i><p><strong>بعد:</strong> ساحات نقاش مخصصة لكل مادة ونظام إعلانات موجه.</p></div>
                    </div>
                </div>
            </div>

            <h2><i class="fas fa-chart-line"></i> 2. النتائج الكمية والأثر المتوقع</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-users"></i>
                    <div class="stat-value">3 أدوار</div>
                    <div class="stat-label">مستخدمين رئيسيين (مدير، دكتور، طالب)</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-cogs"></i>
                    <div class="stat-value">10+</div>
                    <div class="stat-label">عمليات أساسية مؤتمتة</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-database"></i>
                    <div class="stat-value">100%</div>
                    <div class="stat-label">مركزية للبيانات الأكاديمية</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tachometer-alt"></i>
                    <div class="stat-value">>50%</div>
                    <div class="stat-label">تقليل متوقع في الوقت الإداري</div>
                </div>
            </div>

            <h2><i class="fas fa-chart-bar"></i> 3. مقارنة الكفاءة (قبل وبعد)</h2>
            <p>يوضح الرسم البياني التالي الأثر المتوقع للنظام على كفاءة إنجاز بعض المهام الرئيسية، مقارنة بالطرق التقليدية.</p>
            <div class="chart-container">
                <canvas id="efficiencyChart"></canvas>
            </div>

            <nav class="pagination">
                <a href="../chapter6/6.3_future_maintenance.html" class="btn btn-prev"><i class="fas fa-arrow-right"></i> السابق: خطة الصيانة</a>
                <a href="7.2_recommendations.html" class="btn btn-next">التالي: التوصيات <i class="fas fa-arrow-left"></i></a>
            </nav>
        </section>
    </main>

    <script>
        // ... كود تحميل الشريط الجانبي ...

        // كود تشغيل الرسم البياني
        document.addEventListener('DOMContentLoaded', function () {
            const ctx = document.getElementById('efficiencyChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['تسليم وتقييم واجب', 'البحث عن محاضرة', 'إعلان للطلاب'],
                    datasets: [{
                        label: 'النظام التقليدي (دقائق)',
                        data: [60, 15, 20],
                        backgroundColor: 'rgba(44, 62, 80, 0.7)',
                        borderColor: 'rgba(44, 62, 80, 1)',
                        borderWidth: 1
                    }, {
                        label: 'النظام الجديد (دقائق)',
                        data: [10, 2, 5],
                        backgroundColor: 'rgba(52, 152, 219, 0.7)',
                        borderColor: 'rgba(52, 152, 219, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'top' },
                        title: { display: true, text: 'الوقت التقديري المستغرق لإنجاز المهام' }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'الوقت بالدقائق' }
                        }
                    }
                }
            });
        });
    </script>

    <!-- الكود الموحد للجافاسكريبت -->
    <script>
        function setActiveLink() {
            const currentPath = window.location.pathname;
            document.querySelectorAll('.sidebar-nav a').forEach(link => {
                const linkPath = new URL(link.href, window.location.origin).pathname;
                if (currentPath.endsWith(linkPath.split('/').pop())) {
                    document.querySelectorAll('.nav-item.active, .submenu a.active').forEach(i => i.classList.remove('active'));
                    link.classList.add('active');
                    const parentNavItem = link.closest('.nav-item');
                    if (parentNavItem) {
                        parentNavItem.classList.add('active');
                    }
                }
            });
        }

        function initializeSidebarScripts() {
            document.querySelectorAll('.nav-toggle').forEach(toggle => {
                toggle.addEventListener('click', function(e) { e.preventDefault(); this.parentElement.classList.toggle('active'); });
            });
            const menuToggle = document.getElementById('menuToggle');
            const sidebar = document.getElementById('sidebar');
            if (menuToggle && sidebar) {
                menuToggle.addEventListener('click', (e) => { e.stopPropagation(); sidebar.classList.toggle('active'); });
            }
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 768 && sidebar?.classList.contains('active') && !sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
                    sidebar.classList.remove('active');
                }
            });
        }

        document.addEventListener("DOMContentLoaded", function() {
            fetch('../sidebar.html')
                .then(response => response.ok ? response.text() : Promise.reject('Failed to load sidebar'))
                .then(data => {
                    document.getElementById('sidebar-container').innerHTML = data;
                    initializeSidebarScripts();
                    setActiveLink();
                })
                .catch(error => console.error('خطأ في تحميل الشريط الجانبي:', error));
        });
    </script>
</body>
</html>
